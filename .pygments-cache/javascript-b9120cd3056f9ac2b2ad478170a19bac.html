<div class="highlight"><pre><span class="kd">var</span> <span class="nx">wsUri</span> <span class="o">=</span> <span class="s2">&quot;ws://localhost:1234&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">connection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="nx">wsUri</span><span class="p">);</span>
<span class="c1">// When the connection is open, send some data to the server</span>
<span class="nx">connection</span><span class="p">.</span><span class="nx">onopen</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">connection</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;Ping&#39;</span><span class="p">);</span> <span class="c1">// Send the message &#39;Ping&#39; to the server</span>
<span class="p">};</span>

<span class="c1">// Log errors</span>
<span class="nx">connection</span><span class="p">.</span><span class="nx">onerror</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;WebSocket Error &#39;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Log messages from the server</span>
<span class="nx">connection</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Server: &#39;</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>